# API

Say I have a Ploomber project (with a pipeline.yaml file) in /some/project
and I configure all output generated by that pipeline to be saved in
/some/project/output

Running this:

```sh
ploomberci /some/project /some/folder
```

Should run the project in a temporary directory, then copy the generated
contents in output/ to /some/folder/{hash}, where {hash} is the commit hash
for the current commit in /some/project

Users can configure behavior by adding a ploomberci.yaml file.

Running this:

```sh
ploomberci /some/project /some/folder
```

With a ploomberci.yaml:

```
docker: true
```

Should to the same but run the project inside a local docker container

And this:

```sh
ploomberci /some/project
```

```yaml
upload: true
```

Should upload the generated output/ to box (load credentials from ~/.box)

```
glob: [*.ipynb, *.csv]
```

```sh
# only upload jupyter notebooks and csv files
ploomberci /some/project
```


## A few comments

* Develop command line interface with click https://click.palletsprojects.com/en/7.x/
* Use docker-py for connecting to docker containers https://github.com/docker/docker-py
* Use subprocess to run a bash command that returns the current commit
* You can use the glob module for this https://docs.python.org/3/library/glob.html
* Use pytest for testing